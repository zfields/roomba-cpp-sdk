<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>iRobot Roomba 500 Series SDK: roomba::state Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="roomba.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">iRobot Roomba 500 Series SDK
   &#160;<span id="projectnumber">1.0.0-alpha</span>
   </div>
   <div id="projectbrief">A C++ wrapper for the iRobot Roomba 500 Series Open Interface (OI) Specification.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceroomba.html">roomba</a></li><li class="navelem"><a class="el" href="namespaceroomba_1_1state.html">state</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">roomba::state Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Constant data used to manage data returned from the iRobot® Roomba.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structroomba_1_1state_1_1sensor__data__t.html">sensor_data_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure to overlay sensor blob.  <a href="structroomba_1_1state_1_1sensor__data__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a85d19eb1f7d2871cf53d0413159b7a2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceroomba_1_1state.html#a85d19eb1f7d2871cf53d0413159b7a2b">getParseError</a> (void)</td></tr>
<tr class="memdesc:a85d19eb1f7d2871cf53d0413159b7a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor method to check for parsing errors.  <a href="#a85d19eb1f7d2871cf53d0413159b7a2b">More...</a><br /></td></tr>
<tr class="separator:a85d19eb1f7d2871cf53d0413159b7a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a295e713733b669bf36f35aa1304d6af2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceroomba_1_1state.html#a295e713733b669bf36f35aa1304d6af2">parseQueryData</a> (void)</td></tr>
<tr class="memdesc:a295e713733b669bf36f35aa1304d6af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to receive serial data generated by a query command.  <a href="#a295e713733b669bf36f35aa1304d6af2">More...</a><br /></td></tr>
<tr class="separator:a295e713733b669bf36f35aa1304d6af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ffae2671309085bfc9e7eacd9cecbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceroomba_1_1state.html#ae7ffae2671309085bfc9e7eacd9cecbe">parseStreamData</a> (void)</td></tr>
<tr class="memdesc:ae7ffae2671309085bfc9e7eacd9cecbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to receive serial data generated by the stream command.  <a href="#ae7ffae2671309085bfc9e7eacd9cecbe">More...</a><br /></td></tr>
<tr class="separator:ae7ffae2671309085bfc9e7eacd9cecbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea76767beb90c172924534fde3de51f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceroomba_1_1state.html#aea76767beb90c172924534fde3de51f8">setBaudCode</a> (const <a class="el" href="namespaceroomba.html#a303ba447b12fc77bc24977a1a7ec6d6c">BaudCode</a> baud_code_)</td></tr>
<tr class="memdesc:aea76767beb90c172924534fde3de51f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the baud code.  <a href="#aea76767beb90c172924534fde3de51f8">More...</a><br /></td></tr>
<tr class="separator:aea76767beb90c172924534fde3de51f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c0d2581bdb082ca4603ac8c8cb290a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceroomba_1_1state.html#a9c0d2581bdb082ca4603ac8c8cb290a4">setOIMode</a> (const <a class="el" href="namespaceroomba.html#ab6a52ccd26d50ce82376d04a27c6e76a">OIMode</a> oi_mode_)</td></tr>
<tr class="memdesc:a9c0d2581bdb082ca4603ac8c8cb290a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the operating mode of the Open Interface.  <a href="#a9c0d2581bdb082ca4603ac8c8cb290a4">More...</a><br /></td></tr>
<tr class="separator:a9c0d2581bdb082ca4603ac8c8cb290a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d016785f60c3014347c21ee3b5afe7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceroomba_1_1state.html#a67d016785f60c3014347c21ee3b5afe7">setParseKey</a> (sensor::PacketId const *const parse_key_)</td></tr>
<tr class="memdesc:a67d016785f60c3014347c21ee3b5afe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to store parse key.  <a href="#a67d016785f60c3014347c21ee3b5afe7">More...</a><br /></td></tr>
<tr class="separator:a67d016785f60c3014347c21ee3b5afe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a9c0e96dd22e4268531336e5ed2f77"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55a9c0e96dd22e4268531336e5ed2f77"></a>
struct <a class="el" href="structroomba_1_1state_1_1sensor__data__t.html">roomba::state::sensor_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((__packed__))</td></tr>
<tr class="separator:a55a9c0e96dd22e4268531336e5ed2f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Constant data used to manage data returned from the iRobot® Roomba. </p>
<p>The state of the iRobot Roomba.</p>
<p>Internal helper functions.</p>
<p>This constant data facilitates inserting and retreiving sensor data from the blob. Some "data" is represented "functionally" to reduce wasted space for sparse data sets. The data functions do not contain error checking, and should only be used internally.</p>
<p>Functions used for common calculations. These functions do not supply return codes and are considered to be unsafe.</p>
<p>This namespace provides access to a state machine prescribed by the iRobot Roomba Open Interface specification. The namespace stores tracking information when calls are made to set device properties (i.e. baud code), it also houses the data returned when the state of the sensors are queried. see <a class="el" href="classroomba_1_1_open_interface.html#a4f90f2d77ee1a99616934bcc63044c97" title="Sets the baud rate in bits per second (bps). ">OpenInterface::baud</a> see <a class="el" href="classroomba_1_1_open_interface.html#a414ce50d279ed418660c29196e27f2f2" title="The effect and usage of the Control command are identical to the Safe command. ">OpenInterface::control</a> see <a class="el" href="classroomba_1_1_open_interface.html#a649c060ea8628d7189d5d588bf224eb4" title="Puts the OI into Full mode. ">OpenInterface::full</a> see <a class="el" href="classroomba_1_1_open_interface.html#af4e1dfd388fde037cb4a43d1d0e4ab82" title="Powers down Roomba. ">OpenInterface::power</a> see <a class="el" href="classroomba_1_1_open_interface.html#a4a7308a7119c6a462389d9ffa3785f87" title="Request list of sensor packets. ">OpenInterface::queryList</a> see <a class="el" href="classroomba_1_1_open_interface.html#a3fe71d50263839dd40838af6adf5f56f" title="Puts the OI into Safe mode. ">OpenInterface::safe</a> see <a class="el" href="classroomba_1_1_open_interface.html#aa676703a4c79547397eaa89ddb9e207c" title="Request sensor data. ">OpenInterface::sensors</a> see <a class="el" href="classroomba_1_1_open_interface.html#a9a55a3f5a4ff10ae6452ffcec6dd80a7" title="Starts the OI. ">OpenInterface::start</a> see <a class="el" href="classroomba_1_1_open_interface.html#af7a1adea482ac71fa9057842a955af6e" title="Start a data stream based on a query list. ">OpenInterface::stream</a> </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a85d19eb1f7d2871cf53d0413159b7a2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a> roomba::state::getParseError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessor method to check for parsing errors. </p>
<p>The parsing methods typically execute in a separate thread and is therefore unable to provide return codes directly. This method provides access to the shared memory where the return code is stored. </p><dl class="section return"><dt>Returns</dt><dd>SUCCESS </dd>
<dd>
SERIAL_TRANSFER_FAILURE </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="namespaceroomba_1_1state.html#a295e713733b669bf36f35aa1304d6af2" title="Function to receive serial data generated by a query command. ">state::parseQueryData</a> </dd>
<dd>
<a class="el" href="namespaceroomba_1_1state.html#ae7ffae2671309085bfc9e7eacd9cecbe" title="Function to receive serial data generated by the stream command. ">state::parseStreamData</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a295e713733b669bf36f35aa1304d6af2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a> roomba::state::parseQueryData </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to receive serial data generated by a query command. </p>
<p>Parses data received from Roomba and stores it in memory accessible by the OICommand object. </p><dl class="section return"><dt>Returns</dt><dd>SUCCESS </dd>
<dd>
SERIAL_TRANSFER_FAILURE </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classroomba_1_1_open_interface.html#aa676703a4c79547397eaa89ddb9e207c" title="Request sensor data. ">OpenInterface::sensors</a> </dd>
<dd>
<a class="el" href="classroomba_1_1_open_interface.html#a4a7308a7119c6a462389d9ffa3785f87" title="Request list of sensor packets. ">OpenInterface::queryList</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae7ffae2671309085bfc9e7eacd9cecbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a> roomba::state::parseStreamData </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to receive serial data generated by the stream command. </p>
<p>Parses data received from Roomba and stores it in memory accessible by the OICommand object. </p><dl class="section return"><dt>Returns</dt><dd>SUCCESS </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classroomba_1_1_open_interface.html#af7a1adea482ac71fa9057842a955af6e" title="Start a data stream based on a query list. ">OpenInterface::stream</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aea76767beb90c172924534fde3de51f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a> roomba::state::setBaudCode </td>
          <td>(</td>
          <td class="paramtype">const BaudCode&#160;</td>
          <td class="paramname"><em>baud_code_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the baud code. </p>
<p>The baud code is used when calculating the time required to execute a sensor query transaction. </p><dl class="section return"><dt>Returns</dt><dd>SUCCESS </dd>
<dd>
INVALID_PARAMETER </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classroomba_1_1_open_interface.html#aa676703a4c79547397eaa89ddb9e207c" title="Request sensor data. ">OpenInterface::sensors</a> </dd>
<dd>
<a class="el" href="classroomba_1_1_open_interface.html#a4a7308a7119c6a462389d9ffa3785f87" title="Request list of sensor packets. ">OpenInterface::queryList</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9c0d2581bdb082ca4603ac8c8cb290a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a> roomba::state::setOIMode </td>
          <td>(</td>
          <td class="paramtype">const OIMode&#160;</td>
          <td class="paramname"><em>oi_mode_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the operating mode of the Open Interface. </p>
<p>The variable is used to track the current operating mode of the Roomba's internal state machine (i.e. Off, Passive, Safe, Full), and is used as a gate to control available functionality. </p><dl class="section return"><dt>Returns</dt><dd>SUCCESS </dd>
<dd>
INVALID_PARAMETER see <a class="el" href="classroomba_1_1_open_interface.html#a414ce50d279ed418660c29196e27f2f2" title="The effect and usage of the Control command are identical to the Safe command. ">OpenInterface::control</a> see <a class="el" href="classroomba_1_1_open_interface.html#a649c060ea8628d7189d5d588bf224eb4" title="Puts the OI into Full mode. ">OpenInterface::full</a> see <a class="el" href="classroomba_1_1_open_interface.html#af4e1dfd388fde037cb4a43d1d0e4ab82" title="Powers down Roomba. ">OpenInterface::power</a> see <a class="el" href="classroomba_1_1_open_interface.html#a3fe71d50263839dd40838af6adf5f56f" title="Puts the OI into Safe mode. ">OpenInterface::safe</a> see <a class="el" href="classroomba_1_1_open_interface.html#a9a55a3f5a4ff10ae6452ffcec6dd80a7" title="Starts the OI. ">OpenInterface::start</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a67d016785f60c3014347c21ee3b5afe7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceroomba.html#aff53babe0af88b1ea8b066fd18b8f23f">ReturnCode</a> roomba::state::setParseKey </td>
          <td>(</td>
          <td class="paramtype">sensor::PacketId const *const&#160;</td>
          <td class="paramname"><em>parse_key_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to store parse key. </p>
<p>A parsing key is generated during the call to queryList() or sensors() to describe the format of the data returned by the iRobot® Roomba. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parse_key_</td><td>An array of bytes describing the data requested from the iRobot® Roomba. <br />
 Index 0 contains the length of the array. <br />
 The remaining values are the packet ids of the data requested from the iRobot® Roomba. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SUCCESS </dd>
<dd>
INVALID_PARAMETER </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classroomba_1_1_open_interface.html#aa676703a4c79547397eaa89ddb9e207c" title="Request sensor data. ">OpenInterface::sensors</a> </dd>
<dd>
<a class="el" href="classroomba_1_1_open_interface.html#a4a7308a7119c6a462389d9ffa3785f87" title="Request list of sensor packets. ">OpenInterface::queryList</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 8 2015 16:35:34 for iRobot Roomba 500 Series SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
